{
  "hash": "e5e210b2d58fcab3035d8458588ccf81",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Module 1 Introduction to Literate Programming with Quarto\"\nsubtitle: \"Principle Assignment\"\nauthor: \"Jae Jung\"\ndate: '2025-02-02 22:19:37'\nformat: \n  html: \n    toc: true\n    toc-depth: 4\n    number-sections: true\n    code-line-numbers: false\n    code-fold: false\n    code-link: true\n    code-tools: true\n    embed-resources: false\n    other-links: \n      - text: DWV 101\n        icon: award\n        href: https://www.cpp.edu/cba/customer-insights-lab/curriculum/certificate/dwv/index.shtml\n      - text: MS in Digital Marketing\n        icon: bank\n        href: https://www.cpp.edu/cba/graduate-business-programs/programs/master-degree-in-digital-marketing-and-marketing-analytics.shtml\n  pdf: default\n  #docx: default\neditor: visual\nexecute: \n  freeze: auto\n  warning: false\n  echo: fenced\n---\n\n# Overview\n\n## Learning outcomes\n\n1.  Install R and RStudio.\n2.  Describe the layout and menus of RStudio.\n3.  Compare and contrast different types of codebook in RStudio - R Scripts, Rmd, and Quarto.\n4.  Describe the operational basics necessary to perform in every projects in R\n5.  Explain typical workflow for a Quarto project in RStudio.\n6.  Explain what the reproducible research is and the role of literate coding.\n7.  Describe major authoring tools you can implement to make your Quarto document effective.\n8.  Describe some major computational options you can implement on Quartor documents.\n9.  List Quarto's capabilities that makes it an alternative to MS Office.\n10. List online resources available in R Community when you need help.\n\n## The [textbook](https://r4ds.hadley.nz/) chapters to cover:\n\n-   Ch01: Introduction to R for Data Science\n-   Ch28: Quarto\n-   Ch02: Workflow: basics\n-   Ch04: Workflow: Code style\n-   Ch06: Workflow: Scripts and projects\n-   Ch08: Getting help\n-   Ch01: Data visualization\n\n# R & R Studio\n\n-   Brief History\n-   Installation\n    1.  R: <https://www.r-project.org/>\n    2.  RStudio:\n        -   Desktop <https://posit.co/download/rstudio-desktop/>\n        -   Posit Cloud: <https://posit.cloud/>\n-   R Studio IDE menu\n-   Three major file types in RStudio\n\n# RStudio IDE\n\n-   Four quadrants\n-   Menu\n    -   Tools \\> Global Options\n    -   Output location options\n        -   Manually set `working directory`\n        -   Automatic method with the `Rproj` file\n\n# Steps in Preparing for a project\n\n## 1. Start a new project\n\n-   Projects are the containers for all of your scripts\n\n1.  Press new project\n2.  Select a new or existing directory depending on your needs\n3.  Select your folder that contains your scripts\n4.  Press create project\n\n-   You should see your .proj file and others in the files panel\n\n## 2. Start a codebook and save it\n\n-   R Scripts file\n\n-   Rmd file\n\n-   Quarto file\n\n### Markdown vs. HTML\n\nMarkdown and HTML are both markup languages used for creating formatted content, but they have distinct characteristics. Here's a summary of their similarities and differences:\n\n| **Feature** | **Markdown** | **HTML** |\n|------------------|---------------------------|---------------------------|\n| Syntax complexity | Simple and easy to read | More complex with specific tags |\n| Learning curve | Low, quick to learn | Steeper, requires more time to master |\n| Readability | Highly readable, even in raw form | Less readable in raw form |\n| Flexibility | Limited formatting options | Highly flexible with extensive formatting |\n| Output | Primarily static content | Dynamic web pages and applications |\n| Supported elements | Basic formatting (headings, lists, links) | Wide range of elements (forms, multimedia) |\n| Conversion | Easily converts to HTML | Cannot be directly converted to Markdown |\n| Collaborative editing | Well-suited for collaboration | Less ideal for collaborative editing |\n| Customization | Limited styling options | Extensive styling with CSS |\n| Use cases | Documentation, simple content | Complex web development, detailed layouts |\n| Browser support | Requires conversion to HTML | Natively supported by browsers |\n| Extensibility | Limited, varies by flavor | Highly extensible with JavaScript |\n\n## 3. Start literate coding\n\n# What is Quarto?\n\n-   Quarto is an open-source technical publishing system designed for creating a wide variety of documents and publications (<https://quarto.org/>)\n-   Quarto unifies the functionality of many packages from the R Markdown ecosystem (rmarkdown, bookdown, distill, xaringan, etc.) into a single consistent system as well as extends it with native support for multiple programming languages like Python and Julia in addition to R.\n-   In a way, Quarto reflects everything that was learned from expanding and supporting the R Markdown ecosystem over a decade.\n\n## Quarto Work Flow Basics (Demo)\n\n-   How to start it and save it (e.g., test.qmd)\n-   Rendering it:\n-   Source vs. visual tab interface\n-   r4ds: <https://r4ds.hadley.nz/quarto#quarto-basics>\n\n## Three Areas in Quarto File\n\n-   Detailed tutorials availabe at [the official Quarto site](https://quarto.org/docs/get-started/hello/rstudio.html)\n\n### Yaml header\n\n> An (optional) YAML header demarcated by three dashes (`---`) on either end.\n\n```         \n---\ntitle: \"Module 1 Introduction to R, RStudio, and Qurto\"\nauthor: \"Jae Jung\"\ndate: '2025-02-02 22:19:37'\nformat: \n  html: \n    toc: true\n    toc-depth: 4\n    embed-resources: true\neditor: visual\nexecute: \n  freeze: auto\n---\n```\n\n### Code chunk\n\n```{{r}}\n#| label: demo-code-chunk\n#| include: true\n\n#install.packages(\"tidyverse\")\n#install.packages(\"palmerpenguins\")\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n```\n\n### Markdown text\n\n-   Text area is all the canvas area within qmd file other than Yaml header and code chun areas.\n-   Quarto uses markdown syntax for text.\n    -   If using the **visual editor**, you won’t need to learn much markdown syntax for authoring your document, as you can use the menus and shortcuts to add a header, bold text, insert a table, etc.\n    -   If using the **source editor**, you can achieve these with markdown expressions like ##, **bold**, etc.\n-   You can use text area for typing pros as you would normally do in MS Word or Google Doc.\n    -   Text with formatting, including section headers, hyperlinks, an embedded image, and an inline code chunk.\n-   You can also style it.\n    -   Bold\n    -   Italicize\n    -   Headings: h1, h2, h3\n\n::: {.callout-tip title=\"Coding Tips\"}\n[**Be Careful**]{.red-text}: do **not** ***code*** in the **text area**.\n\n-   It is possible to type the code and run in the text area.\n-   However, it won't be read and rendered into a document.\n-   During the rendering, RStudio will be in an auto-pilot mode and will treat everything in the text area as a text except for `in-line code`.\n:::\n\n## Qurto Interface\n\n### Visual editor\n\n-   Easier to those who are familiar with MS Word or Google Doc.\n-   `ctrl/commnad + /`\n-   Adding table by hand is cumbersome; use the visual mode as in @sec-tables.\n-   Adding an figure/image\n\n[![fig-visual-editor](quarto-visual-editor.png){fig-alt=\"visual editor graphic\" fig-align=\"center\"}](https://r4ds.hadley.nz/quarto#fig-visual-editor)\n\n### Source editor\n\n-   Easier to those who are familiar with R Script file or Rmd file.\n-   Useful for debugging any Quarto syntax errors since it’s often easier to catch these in plain text.\n-   Handy reference sheet available at the RStudio menue: *Help \\> Markdown Quick Reference*\n-   The guide below shows how to use Pandoc’s Markdown for authoring Quarto documents in the source editor.\n\n# Literate Programming\n\n## Basic Operations\n\n> In the following code chunk, you will learn some basic operations in R.\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: Basic-Operation\n1+1\n2*2 # *: multiplication\n2^3 # ^: use carrot to raise the base to the power of the following number.\n\n# creating an object\nmessage <- \"Hello WOrld!\" # assigning elements to a variable. Do not break between less-than sign and the hyphen.\n\nmessage = \"Hello WOrld!\" # equal sign also works.\n\n# to print,\nprint(message)\n\n# to print, print function is necessary. You can just type the object and run it.\nmessage\n\n# An object can be any type: e.g., strings and numbers\nnumber <- 7 \n\nmax(2,5,90,30) # maximum\n\nmin(2,5,90,30) # minimum\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n[1] 4\n[1] 8\n[1] \"Hello WOrld!\"\n[1] \"Hello WOrld!\"\n[1] 90\n[1] 2\n```\n\n\n:::\n:::\n\n## Coding Styles {#sec-coding-styles}\n\n::: {.cell}\n\n````{.cell-code  code-fold=\"false\"}\n```{{r}}\n#| code-fold: false\n\n#install.packages(\"tidyverse\")\n#install.packages(\"palmerpenguins\")\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n```\n````\n:::\n\n::: panel-tabset\n### Base R way of coding\n\n::: {.cell}\n\n````{.cell-code  code-fold=\"false\"}\n```{{r}}\n#| code-fold: false\n\nhead(penguins)\nmean(penguins$bill_length_mm, na.rm = TRUE)\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           NA            NA                  NA          NA\n5 Adelie  Torgersen           36.7          19.3               193        3450\n6 Adelie  Torgersen           39.3          20.6               190        3650\n# ℹ 2 more variables: sex <fct>, year <int>\n[1] 43.92193\n```\n\n\n:::\n:::\n\n### Tidyverse way of coding\n\n::: {.cell}\n\n````{.cell-code  code-fold=\"false\"}\n```{{r}}\n#| code-fold: false\n\npenguins |> \n  head()\npenguins |> \n  pull(bill_length_mm) |> \n  mean(na.rm = TRUE)\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           NA            NA                  NA          NA\n5 Adelie  Torgersen           36.7          19.3               193        3450\n6 Adelie  Torgersen           39.3          20.6               190        3650\n# ℹ 2 more variables: sex <fct>, year <int>\n[1] 43.92193\n```\n\n\n:::\n:::\n:::\n\n## Pipe Operator\n\n::: callout-tip\nNote that R has always multiple ways to accomplish the same goal. `|>` is called `native pipe operator`. It works the same as `%>%`, which came from `mgrittr` package that revolutionized the way we code in R, paving the trend for the modern data science in R.\n\nWhile the data frame, df, in @fig-cty-by-cyl-density was included inside ggplot function, the df in @fig-cty-by-cyl-histogram was the first appear in the code.\n\nThe pipe operator is one important difference between base R and Tidyverse in how we code.\n:::\n\n# Quarto Document Types\n\n## HTML\n\n*Note*: Practice creating documents in each form.\n\n## PDF\n\n-   In order to create PDFs you will need to install a recent distribution of [LaTeX](https://www.latex-project.org/).\n\n-   Use TinyTeX (which is based on TexLive), which you can install with the following command:\n\n    ``` bash\n    Terminal\n    ```\n\n    ``` bash\n    quarto install tinytex\n    ```\n\n-   Then adjust YAML header\n\n```         \n---\ntitle: \"Testing for Word document\"\nformat: pdf\neditor: visual\n---\n```\n\n## MS Word\n\n```         \n---\ntitle: \"Testing for Word document\"\nformat: docx\neditor: visual\n---\n```\n\n## Revealjs Presentation\n\n```         \n---\ntitle: \"Testing for Presentation\"\nformat: revealjs\neditor: visual\n---\n```\n\n## Dashboard\n\n```         \n---\ntitle: \"Testing for Presentation\"\nformat: dashboard\neditor: visual\n---\n```\n\n# Multiple Formats\n\nSome documents you create will have only a single output format, however in many cases it will be desirable to support multiple formats. Let’s add the `html` and `docx` formats to our document and modify some options specific to each format.\n\n```         \n---\ntitle: \"Housing Prices\"\nauthor: \"YOur Name\"\nhighlight-style: pygments\nformat:\n  html: \n    code-fold: true\n    html-math-method: katex\n  pdf:\n    geometry: \n      - top=30mm\n      - left=30mm\n  docx: default\n---\n```\n\n## Rendering to all formats.\n\n> If you would like to render to all formats, you can do so with the quarto package, which provides an R interface to the Quarto CLI. - For example, to render the current document, use quarto::quarto_render(). You can also specify the name of the document you want to render as well as the output format(s).\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| warning: false\n#| eval: false\nquarto::quarto_render(\n  \"test.qmd\", \n  output_format = c(\"pdf\", \"docx\")\n)\n```\n````\n:::\n\n# Quarto Markdown Basics\n\n## Text formatting {#sec-text-formatting}\n\n1.  *italic*\n\n2.  **bold**\n\n3.  ~~strikeout~~\n\n4.  `code`\n\n5.  superscript^2^\n\n6.  subscript~2~\n\n7.  Using spans\n\n    -   [underline]{.underline}\n\n    -   [small caps]{.smallcaps}\n\n    -   can change the [font color to red]{style=\"color:red;\"}\n\n## Headings\n\n```         \n# 1st Level Header\n\n## 2nd Level Header\n\n### 3rd Level Header\n```\n\n*Note*: There must be a space between the last pound and the first letter of the headings.\n\n## Lists\n\n### Unnumbered list\n\n-   Bulleted list item 1\n    -   sub-item 1\n    -   sub-itme 2\n        -   sub-sub-item 1\n-   Item 2\n    -   Item 2a\n    -   Item 2b\n\n### Numbered List\n\n1.  Numbered list item 1\n2.  Item 2. The numbers are incremented automatically in the output.\n    i)  sub-item 1\n        a.  sub-sub-item 1\n\n## Links and images\n\n<https://www.cpp.edu/cba/customer-insights-lab/index.shtml>\n\n[Center for Customer Insights and Digital Marketing](https://www.cpp.edu/cba/customer-insights-lab/index.shtml)\n\n![CCIDM Logo](https://www.cpp.edu/cba/customer-insights-lab/img/home/ccidm-logo-green-on-white-cropped-text.png){fig-alt=\"The CCIDM logo and the center's full name is spelled in small case letters\"}\n\n## Callout Blocks {#sec-callout-blocks}\n\n::: callout-note\n-   Callouts are markdown divs that have special callout attributes.\n:::\n\n::: callout-important\n-   We can insert a callout using the Insert Anything tool.\n:::\n\n## Blockquote\n\n> Blockquote highlights the prose by making it bigger.\n\n## Panel Tabset\n\n-   An example is provided in section @sec-coding-styles.\n\n## Tables {#sec-tables}\n\n-   Using visual mode\n\n|   | Digital Marketing Strategy Emphasis | Marketing Analytics Emphasis |\n|-------------------|:---------------------------:|:----------------------:|\n| Major Required | 20 units | 20 units |\n| Major Electives | 14 units | 14 units |\n| Emphasis Recommended | 10 units | 10 units |\n| Emphasis Other | 4 units | 4 units |\n| ***Total Units*** | ***34 units*** | ***34 units*** |\n\n: MSDM Program Curriculum[^1]\n\n[^1]: This is a table caption added when a table was created in the visual mode.\n\n## Cell output\n\n### Echo: true/false\n\n> By default, the code and its output are displayed within the rendered document.\n\n-   showing code: `echo: true`\n\n-   Hiding code: `echo: false`\n\n-   Can be done globally at Yaml or locally at cell.\n\n    -   **Global setting**\n\n    ``` yaml\n    ---\n    title: \"Quarto Computations\"\n    execute:\n      echo: false\n    ---\n    ```\n\n    -   **Local setting**\n        -   To override code hiding global setting at Yaml, add the `echo: true` cell option as shown below in the chunk labelled `scatterplot`.\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = hwy, y = cty, color = cyl)) +\n  geom_point(alpha = 0.5, size = 2) +\n  scale_color_viridis_c() +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/scatterplot-1.png){width=672}\n:::\n:::\n\n::: callout-warning\n`echo: true` prints all the codes but not the cell setting such as label and echo.\n:::\n\n### Echo: fenced\n\n-   Great for teaching or publication purpose\n-   Code chunk printed except for `echo: fenced`\n\n::: {.cell ouput='false'}\n\n````{.cell-code .code-overflow-wrap}\n```{{python}}\n#| ouput: false\n#| code-overflow: wrap\n1 + 1\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n\n```\n2\n```\n\n\n:::\n:::\n\n# Data Visualization Workflow\n\n## Information about mpg data set\n\n-   There are a lot of built-in data set ready for use in R.\n-   mpg is one of the data set\n\n::: {.cell}\n\n````{.cell-code}\n```{{r data info}}\n# ?mpg  # help\n# help(mpg) # another way of looking up help\n```\n````\n:::\n\n## Load up data and set-up\n\n::: {.cell}\n\n````{.cell-code}\n```{{r prep}}\nlibrary(tidyverse)\nlibrary(GGally)\n\nmpg # print mpg dataset\ndf <- mpg # assigning the data set to a new name\nhead(df)\ntheme_set(theme_light()) #set the graphics theme to a light style for this R session.\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 234 × 11\n   manufacturer model      displ  year   cyl trans drv     cty   hwy fl    class\n   <chr>        <chr>      <dbl> <int> <int> <chr> <chr> <int> <int> <chr> <chr>\n 1 audi         a4           1.8  1999     4 auto… f        18    29 p     comp…\n 2 audi         a4           1.8  1999     4 manu… f        21    29 p     comp…\n 3 audi         a4           2    2008     4 manu… f        20    31 p     comp…\n 4 audi         a4           2    2008     4 auto… f        21    30 p     comp…\n 5 audi         a4           2.8  1999     6 auto… f        16    26 p     comp…\n 6 audi         a4           2.8  1999     6 manu… f        18    26 p     comp…\n 7 audi         a4           3.1  2008     6 auto… f        18    27 p     comp…\n 8 audi         a4 quattro   1.8  1999     4 manu… 4        18    26 p     comp…\n 9 audi         a4 quattro   1.8  1999     4 auto… 4        16    25 p     comp…\n10 audi         a4 quattro   2    2008     4 manu… 4        20    28 p     comp…\n# ℹ 224 more rows\n# A tibble: 6 × 11\n  manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class \n  <chr>        <chr> <dbl> <int> <int> <chr>      <chr> <int> <int> <chr> <chr> \n1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compa…\n2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compa…\n3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compa…\n4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compa…\n5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compa…\n6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compa…\n```\n\n\n:::\n:::\n\n## Research Hypothesis or Research Questions\n\n-   H1: City mileage will be negatively associated with the size of cylinder. or\n-   RQ1: Would city mileage differ by cylinder size of vehicles? If so, how?\n\n## Visualize the data and assess the output\n\n### Density Plot\n\n-   is for continuous variable.\n\n    -   In @fig-cty-by-cyl-density, `cty` is a continuous variable.\n\n-   alpha argument determines the thickness of the color; smaller the number the more transparent it would be.\n\n-   fill argument have a different effect depending on whether we add it inside or outside aes() function.\n\n-   factor() transforms the data into a factor, categorical data type.\n\n::: {.cell}\n\n````{.cell-code}\n```{{r Density plot}}\n#| label: fig-cty-by-cyl-density\n#| fig-cap: The impact of cylinder size on the city mileage using density plot\n\ng <- ggplot(df, aes(x = cty)) # there is only one variable, \"cty\"\ng + geom_density(aes(fill=factor(cyl)), alpha=0.8) +\n  labs(title = \"Density Plot\",\n       subtitle = \"City Mileage Grouped by Number of Cylinders\",\n       caption = \"Source: mpg dataset\",\n       x= \"city Mileage\",      \n       fill=\"# Cylinders\")\n```\n````\n\n::: {.cell-output-display}\n![The impact of cylinder size on the city mileage using density plot](index_files/figure-html/fig-cty-by-cyl-density-1.png){#fig-cty-by-cyl-density width=672}\n:::\n:::\n\n### Histogram\n\n-   is for continuous variable.\n    -   in @fig-cty-by-cyl-histogram, the cty is continuous variable.\n\n::: {.cell}\n\n````{.cell-code}\n```{{r Histogram}}\n#| label: fig-cty-by-cyl-histogram\n#| fig-cap: The impact of cylinder size on the city mileage using histogram\n\ndf |> \nggplot(aes(x = cty, fill=factor(cyl))) + \ngeom_histogram(color = \"white\", alpha=0.8) + \n  facet_wrap(~ factor(cyl), ncol = 1) +\n  labs(title = \"City Mileage Grouped by Number of Cylinders\",\n       subtitle = \"Histogram\",\n       caption = \"Source: mpg dataset\",\n       x = \"City Mileage\",\n       y = \"Frequency / # of Cars\",\n       fill = \"# of Cylinder\"\n       )\n```\n````\n\n::: {.cell-output-display}\n![The impact of cylinder size on the city mileage using histogram](index_files/figure-html/fig-cty-by-cyl-histogram-1.png){#fig-cty-by-cyl-histogram width=672}\n:::\n:::\n\n### Summary Insights from both plots\n\n::: callout-important\nAs can be seen in both @fig-cty-by-cyl-density and @fig-cty-by-cyl-histogram, cylinder size is negatively related to the city mileage.\n:::\n\n### Bar Plot\n\n-   Bar plot is usually used to count one categorical variable, but it can also be used for categorical x and continuous y using \"stat = identity\".\n\n-   Can we plot the impact of cylinder on city mileage using bar plot?\n\n-   The answer is yes, but a caution is needed to avoid a mistake.\n\n-   Let's consider @fig-cty-by-cyl-bar-1 and @fig-cty-by-cyl-bar-2 below.\n\n::: {#fig-cty-by-cyl-bar .cell layout-ncol=\"2\"}\n\n````{.cell-code}\n```{{r Barplot}}\n#| message: false\n#| label: fig-cty-by-cyl-bar\n#| fig-cap: The impact of cylinder size on the city mileage using barplots\n#| fig-subcap:\n#|   - \"cty on Y-axis by summing them by cylinder size\"\n#|   - \"cty on Y-axis by averaging them per cylinder size during the wrangling stage\"\n#| layout-ncol: 2\n\ndf |> \nggplot(aes(x = factor(cyl), y = cty)) + \ngeom_col(aes(fill=factor(cyl)), alpha=0.8, show.legend = FALSE) + \n  labs(title = \"City Mileage Grouped by Number of Cylinders\",\n       subtitle = \"Barplot\",\n       caption = \"Source: mpg dataset\",\n       x = \"# of Cylnders\",\n       y = \"Sum of City mileages\" \n       )\n\ndf |>  \n  group_by(cyl) |>  # group data by cyl\n  summarize(cty_mean = mean(cty), .groups = \"drop\") |>  # calculate mean of cty and call it \"cty_mean\"\nggplot(aes(x = factor(cyl), y = cty_mean)) + \ngeom_col(aes(fill=factor(cyl)), show.legend = FALSE) + \n  labs(title = \"City Mileage Grouped by Number of Cylinders\",\n       subtitle = \"Barplot\",\n       caption = \"Source: mpg dataset\",\n       x = \"# of Cylnders\",\n       y = \"Average of City mileage\"\n       )\n```\n````\n\n::: {.cell-output-display}\n![cty on Y-axis by summing them by cylinder size](index_files/figure-html/fig-cty-by-cyl-bar-1.png){#fig-cty-by-cyl-bar-1 width=672}\n:::\n\n::: {.cell-output-display}\n![cty on Y-axis by averaging them per cylinder size during the wrangling stage](index_files/figure-html/fig-cty-by-cyl-bar-2.png){#fig-cty-by-cyl-bar-2 width=672}\n:::\n\nThe impact of cylinder size on the city mileage using barplots\n:::\n\n::: callout-caution\n#### Lessons\n\nWhen using `geom_bar` or `geom_col` with continuous y variable, make sure y is expressed as an an average, not sum.\n:::\n\n### Correlation\n\n::: {#fig-GGally .cell .column-page layout-ncol=\"2\"}\n\n````{.cell-code}\n```{{r}}\n#| message: false\n#| label: fig-GGally\n#| fig-cap: Correlations table using GGally package\n#| fig-subcap:\n#|   - \"correlations using ggcorr\"\n#|   - \"correlations using ggpairs\"\n#| layout-ncol: 2\n#| column: page\n\ndf %>% \n  select(cyl, displ, cty, hwy) %>% \n  ggcorr(label = TRUE, label_round = 2) \n\ndf %>% \n  select(cyl, displ, cty, hwy) %>% # select all continuous variables in the data\n  ggpairs()+\n  theme_bw()\n```\n````\n\n::: {.cell-output-display}\n![correlations using ggcorr](index_files/figure-html/fig-GGally-1.png){#fig-GGally-1 width=672}\n:::\n\n::: {.cell-output-display}\n![correlations using ggpairs](index_files/figure-html/fig-GGally-2.png){#fig-GGally-2 width=672}\n:::\n\nCorrelations table using GGally package\n:::\n\n### Scatter plot with regression line\n\n::: {.cell}\n\n````{.cell-code}\n```{{r geom point}}\ndf %>% \n  select(cyl, cty) %>% \n  ggplot(aes(x = cyl, y = cty))+\n  geom_point() +\n  geom_smooth(method = \"lm\") +\n  geom_jitter()+\n  labs(title = \"City Mileage versus Cylinders\",\n       subtitle = \"Scatter and jitter plot with regression line\",\n       caption = \"Source: mpg dataset\",\n       x = \"# of Cylnders\",\n       y = \"City mileage\", \n       )\n```\n````\n\n::: {.cell-output-display}\n![](index_files/figure-html/geom point-1.png){width=672}\n:::\n:::\n\n### gt and gtsummary tables\n\n::: {#tbl-mpg-regression .cell tbl-cap='Regression of cty on cyl'}\n\n````{.cell-code}\n```{{r}}\n#| label: tbl-mpg-regression\n#| tbl-cap: Regression of cty on cyl\n\nlibrary(gtsummary)\nlibrary(gt)\n\ndf |> \n  lm(cty ~ cyl, data = _) |> \n  tbl_regression(\n  ) |> \n  add_n() |> \n  modify_header(label = \"**Variables**\") |> \n  as_gt() |> \n  tab_header(title = md(\"**Impact of Cylinder Size on City Mileage (cty)**\"),\n             subtitle = md(\"with `mpg` data\"))\n\nm_reg <- df |> \n  lm(cty ~ cyl, data = _) \n```\n````\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"jethyonzyy\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jethyonzyy table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jethyonzyy thead, #jethyonzyy tbody, #jethyonzyy tfoot, #jethyonzyy tr, #jethyonzyy td, #jethyonzyy th {\n  border-style: none;\n}\n\n#jethyonzyy p {\n  margin: 0;\n  padding: 0;\n}\n\n#jethyonzyy .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jethyonzyy .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jethyonzyy .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jethyonzyy .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jethyonzyy .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jethyonzyy .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jethyonzyy .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jethyonzyy .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jethyonzyy .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jethyonzyy .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jethyonzyy .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jethyonzyy .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jethyonzyy .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jethyonzyy .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jethyonzyy .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jethyonzyy .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jethyonzyy .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jethyonzyy .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jethyonzyy .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jethyonzyy .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jethyonzyy .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jethyonzyy .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jethyonzyy .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jethyonzyy .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jethyonzyy .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jethyonzyy .gt_left {\n  text-align: left;\n}\n\n#jethyonzyy .gt_center {\n  text-align: center;\n}\n\n#jethyonzyy .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jethyonzyy .gt_font_normal {\n  font-weight: normal;\n}\n\n#jethyonzyy .gt_font_bold {\n  font-weight: bold;\n}\n\n#jethyonzyy .gt_font_italic {\n  font-style: italic;\n}\n\n#jethyonzyy .gt_super {\n  font-size: 65%;\n}\n\n#jethyonzyy .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jethyonzyy .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jethyonzyy .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jethyonzyy .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jethyonzyy .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jethyonzyy .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jethyonzyy .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#jethyonzyy .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#jethyonzyy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"5\" class=\"gt_heading gt_title gt_font_normal\" style><span data-qmd-base64=\"PHN0cm9uZz5JbXBhY3Qgb2YgQ3lsaW5kZXIgU2l6ZSBvbiBDaXR5IE1pbGVhZ2UgKGN0eSk8L3N0cm9uZz4=\"><span class='gt_from_md'><strong>Impact of Cylinder Size on City Mileage (cty)</strong></span></span></td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"5\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style><span data-qmd-base64=\"d2l0aCA8Y29kZT5tcGc8L2NvZGU+IGRhdGE=\"><span class='gt_from_md'>with <code>mpg</code> data</span></span></td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\"><span data-qmd-base64=\"PHN0cm9uZz5WYXJpYWJsZXM8L3N0cm9uZz4=\"><span class='gt_from_md'><strong>Variables</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stat_n\"><span data-qmd-base64=\"PHN0cm9uZz5OPC9zdHJvbmc+\"><span class='gt_from_md'><strong>N</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\"><span data-qmd-base64=\"PHN0cm9uZz5CZXRhPC9zdHJvbmc+\"><span class='gt_from_md'><strong>Beta</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\"><span data-qmd-base64=\"PHN0cm9uZz45NSUgQ0k8L3N0cm9uZz4=\"><span class='gt_from_md'><strong>95% CI</strong></span></span><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\"><span data-qmd-base64=\"PHN0cm9uZz5wLXZhbHVlPC9zdHJvbmc+\"><span class='gt_from_md'><strong>p-value</strong></span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">cyl</td>\n<td headers=\"stat_n\" class=\"gt_row gt_center\">234</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">-2.1</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">-2.3, -1.9</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\"><0.001</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"5\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> <span data-qmd-base64=\"Q0kgPSBDb25maWRlbmNlIEludGVydmFs\"><span class='gt_from_md'>CI = Confidence Interval</span></span></td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n## Conclusion\n\n::: callout-important\nAs shown in all the correct charts above, it appears that the number of cylinders is negatively related to city mileages. One may proceeds to use an inferential statistics as in @tbl-mpg-regression to draw a formal conclusion.\n\n> According to the correlation analysis above - @fig-GGally-1 and @fig-GGally-2, the cylinder and the city mileage are highly negatively correlated (*r* = -0.81). The regressing city miles on cylinder size shows statistically significant negative impact of cylinder size on the city miles such that one unit increase in cylinder size leads to the -2.13 miles decrease in the city mileage.\n:::\n\n# Resources in R Community\n\n## Resources for this module\n\n-   R for Data Science (2nd eds): <https://r4ds.hadley.nz/>\n-   Quarto Guide: <https://quarto.org/docs/get-started/hello/rstudio.html>\n-   Quarto Cheatsheet: \\<<https://rstudio.github.io/cheatsheets/html/quarto.html>\\>\n-   Quarto presentation Workshop: <https://rstudio-conf-2022.github.io/get-started-quarto/materials/05-presentations.html#/presentations>\n\n## Resources in R Community\n\n-   Tidy Tuesday\n\n-   R Facebook Groups\n\n    -   R Statistical Software Group\n\n-   Stackoverflow\n\n    -   Good for general questions\n\n-   YouTube -- *Most effective*\n\n-   X\n\n-   Other social media\n",
    "supporting": [
      "index_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}